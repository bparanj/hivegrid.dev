Create a cron playbook, cron_job.yml inside ansible/playbooks/maintain:

```yml
- name: Setup a cron job to print the timestamp every midnight
  hosts: all
  become: yes # Use sudo to manage cron jobs
  tasks:
    - name: Ensure cron is installed (Ubuntu)
      ansible.builtin.apt:
        name: cron
        state: present

    - name: Schedule cron job to print the timestamp at midnight
      ansible.builtin.cron:
        name: "Print timestamp"
        job: "date \"+\\%F \\%T\" >> /var/log/timestamp.log"
        minute: "0"
        hour: "0"
        day: "*"
        month: "*"
        weekday: "*"
        user: root
        state: present
```

From the ansible folder, run the playbook:

```sh
ansible-playbook  playbooks/maintain/cron_job.yml -i inventory.ini
```

View the crontab for the root user:

```
ubuntu@ip-10-0-10-4:~$ sudo crontab -l -u root
#Ansible: Print timestamp
0 0 * * * date "+\%F \%T" >> /var/log/timestamp.log
```

Verify that /var/log/timestamp.log has timestamp to make sure CRON is setup correctly.

```
cat /var/log/timestamp.log
```
